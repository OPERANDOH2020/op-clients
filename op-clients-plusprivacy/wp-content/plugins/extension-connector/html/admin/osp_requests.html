<div ng-app="plusprivacy">
    <div ng-controller="ospRequestsController">


        <div ng-cloak class="user_logged_in" ng-if="userIsLoggedIn === false">
            <h3> You don't have enough privileges to access this content</b>!</h3>
        </div>


        <div ng-cloak class="user_logged_in" ng-if="ospRequests">


            <table class="table table-bordered" id="osp_requests_table" datatable="ng" dt-column-defs="dtColumnDefs"  dt-options="dtOptions" dt-instance="dtInstance"  >
                <thead>
                <tr>
                    <th>Email</th>
                    <th>Name</th>
                    <th>Website</th>
                    <th>Phone</th>
                    <th>Requested</th>
                    <th>Description</th>
                    <th>Actions</th>
                </tr>
                </thead>


                <tbody>
                <tr ng-repeat="ospRequest in ospRequests">

                    <td>{{ospRequest.email}}</td>
                    <td>{{ospRequest.name}}</td>
                    <td>{{ospRequest.website}}</td>
                    <td>{{ospRequest.phone}}</td>
                    <td>{{ospRequest.request_time|timeAgo}} ago</td>
                    <td>{{ospRequest.deals_description}}</td>
                    <td>
                        <button ng-click="deleteOSPRequest(ospRequest.userId)">Delete request</button>
                        <button ng-click="acceptOSPRequest(ospRequest.userId)">Approve OSP</button>
                    </td>
                </tr>
                </tbody>
            </table>



        </div>


    </div>
</div>