<ul class="nav navbar-nav navbar-right">

    <li class="dropdown" ng-repeat="item in navigationModel" ng-class="location.indexOf(item.name.toLowerCase())>-1?'active':''" ng-show="item.visible">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
           aria-expanded="false">{{item.name}}<span class="caret"></span></a>

        <ul class="dropdown-menu">
            <menu-item  ng-repeat="item in item.subItems" item="item" location="location"></menu-item>
        </ul>
    </li>


    <li class="dropdown" ng-if="user.authenticated" ng-cloak>
        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
           aria-expanded="false"><span class="glyphicon glyphicon-user"></span></a>
        <ul class="dropdown-menu" ng-switch="user.authenticated">
            <li class="current_user_email" class="dropdown"><span class="glyphicon glyphicon-envelope"></span><span class="user_email">{{user.email}}</span></li>
            <li role="separator" class="divider"></li>
            <li ng-switch-when="true"><a class="user_logout" href="#" ng-click="logout()"><span class="glyphicon glyphicon-log-out"></span>Log out</a></li>
        </ul>
    </li>

</ul>